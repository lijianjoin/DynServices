<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">

    <changeSet id="mock-data-routine-components-v0.0.1" author="ismart2">
        <!-- INSERT data point 1 -->
        <insert schemaName="routine_components" tableName="data_points">
            <column name="id" value="13fb37e1-7cec-4cb1-a3f3-c8e8e48ac96f"/>
            <column name="name" value="Test data point"/>
            <column name="quantity_value" value="1.2345"/>
            <column name="quantity_unit" value="g"/>
            <column name="measurement_timestamp" value="2024-12-21T01:15:30+02:00"/>
        </insert>
    </changeSet>

    <changeSet id="mock-data-routine-components-v0.0.2" author="ismart2">
        <renameColumn
                schemaName="routine_components"
                tableName="data_points"
                oldColumnName="measurement_timestamp"
                newColumnName="measured_at"
                columnDataType="timestamp with time zone"/>

        <!-- RENAME data point 1 -->
        <update tableName="data_points" schemaName="routine_components">
            <column name="name" value="Test data point 1"/>
            <where>id = '13fb37e1-7cec-4cb1-a3f3-c8e8e48ac96f'</where>
        </update>

        <!-- INSERT data point 2 -->
        <insert schemaName="routine_components" tableName="data_points">
            <column name="id" value="94491df3-ca4a-44c6-a3dc-e7821d973060"/>
            <column name="name" value="Test data point 2"/>
            <column name="quantity_value" value="456.789"/>
            <column name="quantity_unit" value="kg"/>
            <column name="measured_at" value="2024-12-21T01:20:30+02:00"/>
        </insert>

        <!-- INSERT calculation 1 -->
        <insert schemaName="routine_components" tableName="calculations">
            <column name="id" value="ca1c1c66-cabc-4b6b-b90b-8f7f31e6f853"/>
            <column name="name" value="Test calculation 1"/>
            <column name="quantity_value" value="13.12"/>
            <column name="quantity_unit" value="kg"/>
            <column name="calculated_at" value="2024-12-21T01:25:30+02:00"/>
        </insert>

        <!-- INSERT calculation 2 -->
        <insert schemaName="routine_components" tableName="calculations">
            <column name="id" value="80f9e4c4-eaf2-4869-b113-01b74d2267bc"/>
            <column name="name" value="Test calculation 2"/>
            <column name="quantity_value" value="9.99"/>
            <column name="quantity_unit" value="g"/>
            <column name="calculated_at" value="2024-12-21T01:35:30+02:00"/>
        </insert>

        <!-- INSERT mapping data point <> calculation -->
        <insert schemaName="routine_components" tableName="mapping_datapoints_calculations">
            <column name="data_point_id" value="13fb37e1-7cec-4cb1-a3f3-c8e8e48ac96f"/>
            <column name="calculation_id" value="ca1c1c66-cabc-4b6b-b90b-8f7f31e6f853"/>
        </insert>
        <insert schemaName="routine_components" tableName="mapping_datapoints_calculations">
            <column name="data_point_id" value="94491df3-ca4a-44c6-a3dc-e7821d973060"/>
            <column name="calculation_id" value="ca1c1c66-cabc-4b6b-b90b-8f7f31e6f853"/>
        </insert>
        <insert schemaName="routine_components" tableName="mapping_datapoints_calculations">
            <column name="data_point_id" value="94491df3-ca4a-44c6-a3dc-e7821d973060"/>
            <column name="calculation_id" value="80f9e4c4-eaf2-4869-b113-01b74d2267bc"/>
        </insert>

        <!-- INSERT mapping calculation <> calculation -->
        <insert schemaName="routine_components" tableName="mapping_calculations_calculations">
            <column name="calculation_id_parent" value="80f9e4c4-eaf2-4869-b113-01b74d2267bc"/>
            <column name="calculation_id_child" value="ca1c1c66-cabc-4b6b-b90b-8f7f31e6f853"/>
        </insert>
    </changeSet>
</databaseChangeLog>
